<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <record id="report_timesheet_penalty_calculation_tree_view" model="ir.ui.view">
            <field name="name">Report timesheet penalty calculation tree</field>
            <field name="model">timesheet.penalty.calculation</field>
            <field name="arch" type="xml">
                <tree string="Timesheet - Penalty calculation" editable="top" create="0">
                    <field name="currency_id" invisible="1"/>
                    <field name="employee_code" readonly="1"/>
                    <field name="employee_id" readonly="1"/>
                    <field name="standard_working_day" readonly="1"/>
                    <field name="total_working_day" readonly="1"/>
                    <field name="total_holiday" readonly="1"/>
                    <field name="total_leave" readonly="1"/>
                    <field name="total_not_leave" readonly="1"/>
                    <field name="sum_arrive_late" readonly="1"/>
                    <field name="total_arrive_late" readonly="1"/>
                    <field name="total_not_bcn" readonly="1"/>
                    <field name="punish_bcn" readonly="1"/>
                    <field name="punish_bcn_working" readonly="1"/>
                    <field name="monthly_report_late" />
                    <field name="monthly_report" />
                    <field name="punish_arrive_late" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                    <field name="punish_monthly_report" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                    <field name="total_punish" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                </tree>
            </field>
        </record>

        <record id="report_timesheet_penalty_calculation_view_filter" model="ir.ui.view">
            <field name="name">report_timesheet_penalty_calculation_view_filter</field>
            <field name="model">timesheet.penalty.calculation</field>
            <field name="arch" type="xml">
                <search string="Timesheet - Penalty calculation Search">
                    <field name="employee_id"/>
                    <field name="employee_code"/>
                    <separator/>
                    <filter string="Months" name="start_date_filter" date="start_date" default_period="this_month"/>
                    <group expand="0" string="Group By">
                        <filter string="Employee" name="employee" context="{'group_by': 'employee_id'}"/>
                        <filter string="Months" name="groupby_start_date" context="{'group_by': 'start_date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="report_timesheet_penalty_calculation_view_action">
            <field name="name">Timesheet - Penalty calculation</field>
            <field name="res_model">timesheet.penalty.calculation</field>
            <field name="view_mode">tree</field>
            <field name="search_view_id" ref="report_timesheet_penalty_calculation_view_filter"/>
            <field name="context">{
                    'search_default_start_date_filter': 1
                }
            </field>
            <field name="help" type="html">
                <p class="o_view_nocontent_empty_folder">
                    Không có dữ liệu hiển thị!!!
                </p>
            </field>
        </record>

        <record id="report_timesheet_penalty_calculation_view_filter_inherit" model="ir.ui.view">
			<field name="name">report_timesheet_penalty_calculation_view_filter_inherit</field>
			<field name="model">timesheet.penalty.calculation</field>
			<field name="inherit_id" ref="report_timesheet_penalty_calculation_view_filter"/>
			<field name="arch" type="xml">
				<xpath expr="//search" position="inside">
					<filter string="timesheet_date_detail" name="timesheet_date_detail"
							domain="[('create_date', '&gt;=', context.get('date_from', False)),('create_date', '&lt;=', context.get('date_to', False))]"/>
				</xpath>
				<xpath expr="//filter[@name='timesheet_date_detail']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>
			</field>
		</record>


        <menuitem
            id="menu_report_timesheet_penalty_calculation"
            name="Báo cáo bảng công - Tính phạt"
            parent="to_attendance_device.attendance_reporting_menu"
            action="report_timesheet_penalty_calculation_view_action"
            />

    </data>
</odoo>