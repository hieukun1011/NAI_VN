<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="pontusinc_holidays.hr_leave_view" model="ir.ui.view">
            <field name="name">hr.leave.view.form.pontusinc.holidays</field>
            <field name="model">hr.leave</field>
            <field name="inherit_id" ref="hr_holidays.hr_leave_view_form_dashboard"/>
            <field name="mode">primary</field>
            <field name="priority">17</field>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='col_left']" position="attributes">
                    <attribute name="colspan">5</attribute>
                </xpath>
                <xpath expr="//field[@name='holiday_status_id']" position="after">
                    <field name="employee_ids" widget="many2many_tags"/>
                    <field name="number_of_days" force_save="1" invisible="1"/>
                </xpath>
            </field>
        </record>
        <record id="pontusinc_holidays_view_form_custom" model="ir.ui.view">
        <field name="name">pontusinc.hr.leave.view.form.custom</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='holiday_status_id']" position="attributes">
                <attribute name="domain">[
                                    '|',('requires_allocation', '=', 'no'),
                                        '&amp;',('has_valid_allocation', '=', True),
                                        '&amp;',('max_leaves', '>', '0'),
                                    '|',('allows_negative', '=', True),
                                    '&amp;',('virtual_remaining_leaves', '&gt;', 0),
                                    ('allows_negative', '=', False),
                                ]</attribute>
            </xpath>
            <xpath expr="//div[hasclass('o_hr_leave_content')]" position="inside">
                <div class="o_hr_leave_column col_left col-md-6 col-12" attrs="{'readonly': [('state', '!=', 'draft')]}">
                    <field name="time_custom" attrs="{'invisible': [('request_unit_half', '=', True)]}"/>
                    <label for="time_custom" string="Time Details"
                           attrs="{'invisible': [('request_unit_half', '=', True)]}"/>
                    <div attrs="{'invisible': [('time_custom', '=', False)]}">
                        <span class="text-muted">From day
                        <field name="request_date_from_display"/>th at this time
                        </span>
                        <field name="from_time" class="oe_inline" attrs="{'readonly': [('state', 'not in', ('draft', 'confirm'))],
                            'required': [('time_custom', '=', True)]
                            }" widget="float_time"/> AM
                        <span class="text-muted"> to the day
                            <field name="request_date_to_display"/>th at this time
                        </span>
                        <field name="to_time" class="oe_inline" attrs="{'readonly': [('state', 'not in', ('draft', 'confirm'))],
                            'required': [('time_custom', '=', True)]
                            }" widget="float_time"/> PM (Hours/Minute)
                    </div>
                </div>
            </xpath>
        </field>
    </record>
</odoo>
